"use strict";(self.webpackChunk_fastify_website=self.webpackChunk_fastify_website||[]).push([[84741],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var o=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=o.createContext({}),u=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=u(e.components);return o.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},f=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),f=u(n),m=i,d=f["".concat(l,".").concat(m)]||f[m]||c[m]||a;return n?o.createElement(d,r(r({ref:t},p),{},{components:n})):o.createElement(d,r({ref:t},p))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,r=new Array(a);r[0]=f;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,r[1]=s;for(var u=2;u<a;u++)r[u]=n[u];return o.createElement.apply(null,r)}return o.createElement.apply(null,n)}f.displayName="MDXCreateElement"},5945:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>c,frontMatter:()=>a,metadata:()=>s,toc:()=>u});var o=n(87462),i=(n(67294),n(3905));const a={},r="How to write a good plugin",s={unversionedId:"Documentation/Write-Plugin",id:"version-v1.14.x/Documentation/Write-Plugin",title:"How to write a good plugin",description:"First, thank you for deciding to write a plugin for Fastify. Fastify is a minimal framework and plugins are its strength, so thank you.",source:"@site/versioned_docs/version-v1.14.x/Documentation/Write-Plugin.md",sourceDirName:"Documentation",slug:"/Documentation/Write-Plugin",permalink:"/website-next/docs/v1.14.x/Documentation/Write-Plugin",draft:!1,tags:[],version:"v1.14.x",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Validation-and-Serialization",permalink:"/website-next/docs/v1.14.x/Documentation/Validation-and-Serialization"}},l={},u=[{value:"Code",id:"code",level:2},{value:"Documentation",id:"documentation",level:2},{value:"License",id:"license",level:2},{value:"Examples",id:"examples",level:2},{value:"Test",id:"test",level:2},{value:"Code Linter",id:"code-linter",level:2},{value:"Continuous Integration",id:"continuous-integration",level:2},{value:"Let&#39;s start!",id:"lets-start",level:2}],p={toc:u};function c(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"how-to-write-a-good-plugin"},"How to write a good plugin"),(0,i.kt)("p",null,"First, thank you for deciding to write a plugin for Fastify. Fastify is a minimal framework and plugins are its strength, so thank you.",(0,i.kt)("br",null),"\nThe core principles of Fastify are performance, low overhead and providing a good experience to our users. When writing a plugin, it is important to keep these principles in mind. Therefore, in this document we will analyze what characterizes a quality plugin."),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Need some inspiration? You can use the label ",(0,i.kt)("a",{parentName:"em",href:"https://github.com/fastify/fastify/issues?q=is%3Aissue+is%3Aopen+label%3A%22plugin+suggestion%22"},'"plugin suggestion"')," in our issue tracker!")),(0,i.kt)("h2",{id:"code"},"Code"),(0,i.kt)("p",null,"Fastify uses different techniques to optimize its code, many of them are documented in our Guides. We highly recommend you read ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/fastify/fastify/blob/master/docs/Plugins-Guide.md"},"the hitchhiker's guide to plugins")," to discover all the APIs you can use to build your plugin and learn how use them."),(0,i.kt)("p",null,"Have you got some question or are you seeking for a suggestion? We are more than happy to help you! Just open an issue in our ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/fastify/help"},"help repository"),"."),(0,i.kt)("p",null,"Once you submit a plugin to our ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/fastify/fastify/blob/master/docs/Ecosystem.md"},"ecosystem list"),", we will review your code and help you improve it if necessary."),(0,i.kt)("h2",{id:"documentation"},"Documentation"),(0,i.kt)("p",null,"Documentation is extremely important. If your plugin is not well documented we will not accept it to the ecosystem list. Lack of quality documentation makes it more difficult for people to use your plugin, and will likely result in it going unused.",(0,i.kt)("br",null),"\nIf you want to see some good examples on how to document a plugin take a look at:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/fastify/fastify-caching"},(0,i.kt)("inlineCode",{parentName:"a"},"fastify-caching"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/fastify/fastify-compress"},(0,i.kt)("inlineCode",{parentName:"a"},"fastify-compress"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/fastify/fastify-cookie"},(0,i.kt)("inlineCode",{parentName:"a"},"fastify-cookie"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/fastify/point-of-view"},(0,i.kt)("inlineCode",{parentName:"a"},"point-of-view"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/fastify/under-pressure"},(0,i.kt)("inlineCode",{parentName:"a"},"under-pressure")))),(0,i.kt)("h2",{id:"license"},"License"),(0,i.kt)("p",null,"You can license your plugin as you prefer, we do not enforce any kind of license.",(0,i.kt)("br",null),"\nWe prefer the ",(0,i.kt)("a",{parentName:"p",href:"https://choosealicense.com/licenses/mit/"},"MIT license")," because we think it allows more people to use the code freely. For a list of alternative licenses see the ",(0,i.kt)("a",{parentName:"p",href:"https://opensource.org/licenses"},"OSI list")," or GitHub's ",(0,i.kt)("a",{parentName:"p",href:"https://choosealicense.com/"},"choosealicense.com"),"."),(0,i.kt)("h2",{id:"examples"},"Examples"),(0,i.kt)("p",null,"Always put an example file in your repository. Examples are very helpful for users and give a very fast way to test your plugin. Your users will be grateful."),(0,i.kt)("h2",{id:"test"},"Test"),(0,i.kt)("p",null,"It is extremely important that a plugin is thoroughly tested to verify that is working properly.",(0,i.kt)("br",null),"\nA plugin without tests will not be accepted to the ecosystem list. A lack of tests does not inspire trust nor guarantee that the code will continue to work among different versions of its dependencies."),(0,i.kt)("p",null,"We do not enforce any testing library. We use ",(0,i.kt)("a",{parentName:"p",href:"http://www.node-tap.org/"},(0,i.kt)("inlineCode",{parentName:"a"},"tap"))," since it offers out of the box parallel testing and code coverage, but it is up to you to choose your library of preference."),(0,i.kt)("h2",{id:"code-linter"},"Code Linter"),(0,i.kt)("p",null,"It is not mandatory, but we highly recommend you use a code linter in your plugin. It will ensure a consistent code style and help you to avoid many errors."),(0,i.kt)("p",null,"We use ",(0,i.kt)("a",{parentName:"p",href:"https://standardjs.com/"},(0,i.kt)("inlineCode",{parentName:"a"},"standard"))," since it works without the need to configure it and is very easy integrate in a test suite."),(0,i.kt)("h2",{id:"continuous-integration"},"Continuous Integration"),(0,i.kt)("p",null,"It is not mandatory, but if you release your code as open source it helps to use Continuous Integration to ensure contributions do not break your plugin and to show that the plugin works as intended. ",(0,i.kt)("a",{parentName:"p",href:"https://travis-ci.org/"},"Travis")," is free for open source projects and easy to setup.",(0,i.kt)("br",null),"\nIn addition you can enable services like ",(0,i.kt)("a",{parentName:"p",href:"https://greenkeeper.io/"},"Greenkeeper"),", that will help you keep your dependencies up to date and discover if a new release of Fastify has some issues with your plugin."),(0,i.kt)("h2",{id:"lets-start"},"Let's start!"),(0,i.kt)("p",null,"Awesome, now you know everything you need to know about how to write a good plugin for Fastify!\nAfter you've built one (or more!) let us know! We will add it to the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/fastify/fastify#ecosystem"},"ecosystem")," section of our documentation!"),(0,i.kt)("p",null,"If you want to see some real world examples, checkout:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/fastify/point-of-view"},(0,i.kt)("inlineCode",{parentName:"a"},"point-of-view")),"\nTemplates rendering (",(0,i.kt)("em",{parentName:"li"},"ejs, pug, handlebars, marko"),") plugin support for Fastify."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/fastify/fastify-mongodb"},(0,i.kt)("inlineCode",{parentName:"a"},"fastify-mongodb")),"\nFastify MongoDB connection plugin, with this you can share the same MongoDb connection pool in every part of your server."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/fastify/fastify-multipart"},(0,i.kt)("inlineCode",{parentName:"a"},"fastify-multipart")),"\nMultipart support for Fastify."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/fastify/fastify-helmet"},(0,i.kt)("inlineCode",{parentName:"a"},"fastify-helmet"))," Important security headers for Fastify.")))}c.isMDXComponent=!0}}]);